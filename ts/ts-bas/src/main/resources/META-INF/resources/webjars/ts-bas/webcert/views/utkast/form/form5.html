<a id="anchor-diabetes" name="anchor.diabetes"></a>
<div wc-field
     field-dynamic-label="KAT_5.RBK"
     field-has-errors="viewState.common.validation.messagesGrouped.diabetes"
     id="diabetesForm">
  <table class="table table-form">
    <tr>
      <th><span dynamic-label key="common.yes"></span></th>
      <th><span dynamic-label key="common.no"></span></th>
      <th class="maxwidth"></th>
    </tr>
    <tr>
      <td><input id="diabetesay" name="diabetesa" type="radio" ng-value="true"
                 ng-model="viewState.intygModel.diabetes.harDiabetes" ng-change="validate()"></td>
      <td><input id="diabetesan" name="diabetesa" type="radio" ng-value="false"
                 ng-model="viewState.intygModel.diabetes.harDiabetes" ng-change="validate()"></td>
      <td>
        <p><span dynamic-label key="FRG_17.RBK"></span> <span class="required">*</span></p>

        <div ng-show="viewState.intygModel.diabetes.harDiabetes"
             class="last-validation">
          <p>
            <wc-validation-group field-type="radio-group" validations="viewState.getValidationErrors('diabetestyp')">
              <span dynamic-label key="FRG_18.RBK"></span> <span class="required">*</span>
              <label class="radio">
                <input id="diabetestyp1" name="diabetestyp" type="radio" value="DIABETES_TYP_1"
                       ng-model="viewState.intygModel.diabetes.diabetesTyp" ng-change="validate()">
                <span dynamic-label key="ts-bas.label.diabetes.diabetestyp.diabetes_typ_1"></span>
              </label>
              <label class="radio">
                <input id="diabetestyp2" name="diabetestyp" type="radio" value="DIABETES_TYP_2"
                       ng-model="viewState.intygModel.diabetes.diabetesTyp" ng-change="validate()">
                <span dynamic-label key="ts-bas.label.diabetes.diabetestyp.diabetes_typ_2"></span>
              </label>
            </wc-validation-group>
          </p>

          <wc-validation-group field-type="check-group" validations="viewState.getValidationErrors('diabetestyp.behandlingstyp')">
            <div ng-show="viewState.intygModel.diabetes.diabetesTyp == 'DIABETES_TYP_2'">
              <span dynamic-label key="FRG_19.RBK"></span> <span class="required">*</span>
              <label class="checkbox">
                <input id="diabetestreat1" name="diabetestreat1" type="checkbox"
                       ng-model="viewState.intygModel.diabetes.kost" ng-change="validate()">
                <span dynamic-label key="DFR_19.1.RBK"></span>
              </label>
              <label class="checkbox">
                <input id="diabetestreat2" name="diabetestreat2" type="checkbox"
                       ng-model="viewState.intygModel.diabetes.tabletter" ng-change="validate()">
                <span dynamic-label key="DFR_19.2.RBK"></span>
              </label>
              <label class="checkbox">
                <input id="diabetestreat3" name="diabetestreat3" type="checkbox"
                       ng-model="viewState.intygModel.diabetes.insulin" ng-change="validate()">
                <span dynamic-label key="DFR_19.3.RBK"></span>
              </label>
            </div>
          </wc-validation-group>

          <div class="alert alert-info"
               ng-show="viewState.intygModel.diabetes.tabletter || viewState.intygModel.diabetes.insulin">
            <span dynamic-label key="DFR_19.3.INF"></span>
          </div>

        </div>
      </td>
    </tr>
    <tr ng-show="viewState.getValidationErrors('hardiabetes')" class="last-validation">
      <td colspan="3"><wc-field-validation field-type="radio-group" validations="viewState.getValidationErrors('hardiabetes')"></wc-field-validation></td>
    </tr>
  </table>
</div>
