<div class="white-space-no-wrap" ng-cloak>

  <wc-approve-receivers-button
      intygtyp="intygType"
      intygid="viewState.intygModel.id">
  </wc-approve-receivers-button>

  <button type="button"
          intygstyp="{{intygType}}"
          id="createFromTemplateBtn"
          class="btn btn-success"
          ng-if="IntygHeaderService.showCreateFromTemplate()"
          ng-disabled="!IntygHeaderService.enableCreateFromTemplate()"
          ng-click="IntygHeaderService.createFromTemplate(viewState.intygModel)"
          wc-check-vardenhet
          uib-popover="{{IntygHeaderService.getCurrentCreateFromTemplate().tooltip}}"
          popover-trigger="mouseenter"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top">
    <i class="material-icons">description</i> {{IntygHeaderService.getCurrentCreateFromTemplate().buttonText}}
  </button>

  <button type="button"
          intygstyp="{{intygType}}"
          id="gotoRelatedFromTemplateBtn"
          class="btn btn-success"
          ng-if="IntygHeaderService.showGotoCreatedFromTemplate()"
          ng-click="IntygHeaderService.gotoRelatedFromTemplate()"
          popover-trigger="mouseenter"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top">
    <i class="material-icons">description</i> {{IntygHeaderService.getCurrentCreateFromTemplate().gotoButtonText}}
  </button>

  <button type="button"
          id="sendBtn"
          class="btn btn-primary"
          wc-authority feature="SKICKA_INTYG"
          request-origin="!UTHOPP"
          intygstyp="{{intygType}}"
          wc-check-vardenhet vardenhet="{{viewState.enhetsId}}"
          ng-if="showSkickaButton()"
          ng-click="send()"
          uib-popover="{{sendBtnTooltipText}}"
          popover-trigger="mouseenter"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top">
    <i class="material-icons">email</i> <span dynamic-label key="{{intygType}}.button.send"></span>
  </button>
  <!-- Normal pdf-utskrift av signerat intyg  -->
  <button ng-if="showPrintBtn()"
          type="button"
          id="downloadprint"
          class="btn btn-primary"
          intygstyp="{{intygType}}"
          ng-click="print(viewState.intygModel, false);printPopoverOpen=false"
          uib-popover="{{normalPrintBtnTooltipText}}"
          popover-trigger="mouseenter"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-is-open="printPopoverOpen"
          popover-placement="auto top">
    <i class="material-icons">print</i> <span dynamic-label key="common.button.save.as.pdf"></span>
  </button>
  <div id="downloadprintemployer" ng-if="showEmployerPrintBtn()" intygType="{{intygType}}" style="display:inline;">
    <div class="btn-group" >
      <button type="button"
              id="intyg-header-dropdown-select-pdf-type"
              class="btn btn-primary dropdown-toggle"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              uib-popover="{{selectPrintBtnTooltipText}}"
              popover-trigger="mouseenter"
              popover-popup-delay="300"
              popover-append-to-body="true"
              popover-placement="auto top">
        <i class="material-icons">print</i> <span dynamic-label key="common.button.save.as.pdf"></span> <i class="material-icons">expand_more</i>
      </button>
      <ul class="dropdown-menu">
        <!--<li wc-authority feature="UTSKRIFT">-->
        <li ng-if="utskrift">
          <a href="#" onClick="return false;" ng-click="print(viewState.intygModel, false)">
            <span dynamic-label key="common.button.save.as.pdf.full"></span>
          </a>
        </li>
        <!--<li wc-authority feature="ARBETSGIVARUTSKRIFT"-->
        <li ng-if="arbetsgivarUtskrift">
          <a href="#" onClick="return false;" ng-click="print(viewState.intygModel, true);arbetsprintPopoverOpen=false">
            <span dynamic-label key="common.button.save.as.pdf.minimal"></span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- Gamla KOPIERA-knappen. Har bytt namn till Förnya -->
  <button type="button"
          id="fornyaBtn"
          class="btn btn-primary"
          ng-if="showFornyaButton()"
          ng-click="fornya(viewState.intygModel);fornyaBtnPopOver=false"
          uib-popover="{{fornyaBtnTooltipText}}"
          popover-trigger="mouseenter"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top"
          popover-is-open="fornyaBtnPopOver">
    <i class="material-icons">autorenew</i> Förnya
  </button>

  <div class="button-tooltip"
       ng-class="{'disabled':ersattButtonDisabled}"
       uib-popover="{{ersattBtnTooltipText}}"
       popover-trigger="mouseenter"
       popover-popup-delay="300"
       popover-append-to-body="true"
       popover-placement="auto top">
    <button type="button"
            id="ersattBtn"
            class="btn btn-primary"
            ng-if="showErsattButton()"
            ng-click="ersatt(viewState.intygModel)"
            ng-disabled="ersattButtonDisabled"
            wc-check-vardenhet
            vardenhet="{{viewState.enhetsId}}">
      <i class="material-icons">swap_horiz</i> Ersätt
    </button>
  </div>

  <button type="button"
          id="makuleraBtn"
          class="btn btn-secondary"
          ng-if="showMakuleraButton()"
          ng-click="makulera(viewState.intygModel)"
          wc-check-vardenhet
          vardenhet="{{viewState.enhetsId}}"
          uib-popover="{{makuleraBtnTooltipText}}"
          popover-trigger="mouseenter"
          popover-popup-delay="300"
          popover-append-to-body="true"
          popover-placement="auto top"
          popover-class="z-low">
    <i class="material-icons">delete</i> Makulera
  </button>
</div>
