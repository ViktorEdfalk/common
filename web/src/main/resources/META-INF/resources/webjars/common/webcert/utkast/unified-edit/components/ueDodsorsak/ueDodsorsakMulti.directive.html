<div>
  <table class="dodsorsak-multi">
    <tr>
      <th class="description-width"><span class="label-padding" dynamic-label key="{{config.beskrivningLabel}}.RBK"></span> <span wc-help-chevron help-text-key="{{config.beskrivningLabel}}.HLP"></span>
        <span wc-help-chevron-text help-text-key="{{config.beskrivningLabel}}.HLP"></span>
      </th>
      <th><span class="label-padding" dynamic-label key="{{config.datumLabel}}.RBK"></span> <span wc-help-chevron help-text-key="{{config.datumLabel}}.HLP"></span>
        <span wc-help-chevron-text help-text-key="{{config.datumLabel}}.HLP"></span></th>
      <th><span class="label-padding" dynamic-label key="{{config.orsakLabel}}.RBK"></span> <span wc-help-chevron help-text-key="{{config.orsakLabel}}.HLP"></span>
        <span class="label-padding" wc-help-chevron-text help-text-key="{{config.orsakLabel}}.HLP"></span>
      </th>
    </tr>
    <tr ng-repeat="orsak in model[config.modelProp]">
      <td>
        <div class="input-wrapper">
          <input id="orsak-multi-{{$index}}-beskrivning"
                 type="text"
                 class="form-control input-full"
                 ng-class="{'validation-error' : hasValidationError('beskrivning', $index)}"
                 ng-model="orsak.beskrivning"
                 ng-blur="validate()"
                 maxlength="{{config.htmlMaxlength || 3500}}">
        </div>
      </td>
      <td>
        <span wc-date-picker-field target-model="orsak.datum" dom-id="orsak-multi-{{$index}}-datum"
              ng-class="{'validation-error' : hasValidationError('datum', $index)}"
              ng-model="orsak.datum"
              on-blur="validate()"
              add-date-parser="loose"></span>
      </td>
      <td class="dropdown-row">
        <wc-dropdown data-items="orsakOptions"
                     ng-model="orsak.specifikation"
                     data-on-select="validate()"
                     id="orsak-multi-{{$index}}-specifikation"
                     name="andraDodsorsak-{{$index}}"
                     use-dynamic-label="false"
                     ng-class="{'validation-error' : hasValidationError('specifikation',  $index)}">
        </wc-dropdown>
      </td>
      <td>
        <button type="button" ng-if="$index > 0" class="btn btn-type-8" ng-click="deleteRow($index)"><i class="material-icons">remove_circle</i> Ta bort</button>
      </td>
    </tr>
  </table>
  <button type="button" ng-disabled="model[config.modelProp].length >= config.maxRows" class="btn btn-type-8" ng-click="addRow()"><i class="material-icons">add_circle</i> LÃ¤gg till sjukdom/skada</button>
  <ue-validation-list field-type="dodsorsak" validations="orsakValidations"></ue-validation-list>
</div>
