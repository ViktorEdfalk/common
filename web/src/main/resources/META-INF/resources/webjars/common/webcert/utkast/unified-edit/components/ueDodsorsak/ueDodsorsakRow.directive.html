<div class="padding-top-medium">
  <label class="control-label inline-block bold" ng-if="config.label.key">
    <span dynamic-label key="{{config.label.key}}"></span>
    <span wc-help-chevron help-text-key="{{config.label.helpKey}}"></span>
  </label>
  <span wc-help-chevron-text help-text-key="{{config.label.helpKey}}"></span>

  <div class="dodsorsak-row__controls">
    <div>{{config.requireDescription}}
      <span dynamic-label key="{{config.beskrivningLabel}}.RBK"></span> <span wc-help-chevron help-text-key="{{config.beskrivningLabel}}.HLP"></span> <span ng-show="requireDescription" class="required">*</span>
      <span wc-help-chevron-text help-text-key="{{config.beskrivningLabel}}.HLP"></span>
      <input id="orsak-{{rowIndex}}-beskrivning"
             type="text"
             class="form-control input-full"
             ng-class="{'fielderror' : hasValidationError('beskrivning', rowIndex)}"
             ng-model="modelValue.beskrivning"
             ng-blur="validate()"
             maxlength="{{config.htmlMaxlength || 3500}}">
      <span class="dodsorsak-row__letter">{{letter}}</span>
    </div>
    <div class="">
      <div class="inline-block padding-top-small">
      <span><span dynamic-label key="{{config.datumLabel}}.RBK"></span> </span> <span wc-help-chevron help-text-key="{{config.datumLabel}}.HLP"></span><br>
      <span wc-help-chevron-text help-text-key="{{config.datumLabel}}.HLP"></span>
      <span wc-date-picker-field target-model="modelValue.datum" dom-id="orsak-{{rowIndex}}-datum"
            ng-class="{'fielderror' : hasValidationError('datum', rowIndex)}"
            ng-model="modelValue.datum"
            on-blur="validate()"
            add-date-parser="loose"></span>
      </div>
      <div class="inline-block padding-top-small" style="width: 140px;">
        <span dynamic-label key="{{config.orsakLabel}}.RBK"></span> <span wc-help-chevron help-text-key="{{config.orsakLabel}}.HLP"></span>
        <span wc-help-chevron-text help-text-key="{{config.orsakLabel}}.HLP"></span>
        <ui-select theme="bootstrap" search-enabled="false" ng-model="modelValue.specifikation"
                   id="orsak-{{rowIndex}}-specifikation" name="andraDodsorsak-{{rowIndex}}" append-config-body="true"
                   ng-class="{'fielderror' : hasValidationError('specifikation', rowIndex)}"
                   on-select="validate()">
          <ui-select-match>
            <span ng-bind="$select.selected.label" title="{{$select.selected.label}}"></span>
          </ui-select-match>
          <ui-select-choices repeat="item.id as item in orsakOptions" value="$select.selected.id">
            <span ng-bind="item.label"></span>
          </ui-select-choices>
        </ui-select>
      </div>
    </div>
  </div>

  <wc-field-validation field-type="dodsorsak" validations="orsakValidations"></wc-field-validation>
  <wc-field-validation field-type="date" validations="dateValidations"></wc-field-validation>
</div>
