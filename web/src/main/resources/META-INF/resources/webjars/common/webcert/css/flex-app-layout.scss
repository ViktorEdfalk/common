/*!
 * Copyright (C) 2018 Inera AB (http://www.inera.se)
 *
 * This file is part of sklintyg (https://github.com/sklintyg).
 *
 * sklintyg is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * sklintyg is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

/*
  Root classes for app flex layout
 */

html,
body {
  //Needed to allow having nested flex containers that expands & handle overflow themselves
  height: 100%;
  overflow:hidden;
  display: flex;
  flex-direction: column;
}

.webcert-workarea {
  //Constrain content to max width..
  max-width: $wc-max-content-width;

  display: flex;
  flex: 1;
  flex-direction: column;
  //center content (will show whitespace on sides)
  align-self: center;
  width: 100%;
  min-height: 1%; //without a min-height IE11/edge wont shrink flex-items
  
  //when workarea is empty, hide it.
  &:empty {
    display: none;
  }


  //defines padding for "page" workarea containers
  .webcert-workarea-page {
    //NOTE: Minimum of 15 padding left/right is needed to handle bootstrap grid negative margins
    padding: 20px 15px 0 15px;

    &:after {
      content:'';
      display:block;
      padding-bottom:35px;
    }

    &.container-fluid {
      //all "page-templates" / views such as sök / skriv intyg, ej signerade utkast etc should also have this as root, to get inner vertical scrollbar
      // and to work bootstraps with rows / cols
      width: 100%;
      overflow-y: auto;
    }
  }

  .webcert-workarea-vflex-container {
    display: flex;
    flex:1;
    flex-direction: column;
    min-height: 1%; //without a min-height IE11/edge wont shrink flex-items
  }


  // Some views have deeper containers that take up extra vertical space, and
  // handle their own overflow, eg intyg / supportpanel.
  .webcert-workarea-hflex-container {
    display: flex;
    flex: 1;
    min-height: 1%; //without a min-height IE11/edge wont shrink flex-items

    .webcert-workarea-intyg {
      position: relative; //important: needs to be relative for anchorScroll to work
      flex: 3;
      overflow-y: auto;
      padding: 20px 15px 0 15px;
      background-color: $wc-color-27;

      &:after {
        content:'';
        display:block;
        padding-bottom:35px;
      }
    }
    .webcert-workarea-supportpanel {
      flex: 2;
      min-width: 1%;

      //NOTE: this temporary class to allow legacy arendehantering view to be in a scrollable container to the right of intyg.
      // When ärendehantering is supported as a tab in in supportpanel, this construct can be removed.
      &.remove-when-migrated-to-supportpanel-scrollable-flex-content {
        padding: 20px;
        overflow: auto;
      }

    }
  }
}

.webcert-landing {
  flex: 1 1;
  display: flex;
  min-height: 1%;
  overflow: auto;
  flex-direction: column;

  &:empty {
    display: none;
  }
}
