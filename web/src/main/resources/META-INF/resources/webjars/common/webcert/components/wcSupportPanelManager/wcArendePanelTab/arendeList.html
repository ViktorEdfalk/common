<div class="row weak-hidden" ng-class="{show: viewState.showTemplate}">
  <div class="col-md-12 arende-column">

    <wc-spinner label="common.loading.existing.arenden" show-spinner="!viewState.doneLoading">

      <div class="webcert-bottom-padding-section" ng-show="viewState.intygProperties.isLoaded">

        <!-- new arende form -->
        <arende-new ng-show="viewState.doneLoading && viewState.activeErrorMessageKey == null"  arende-list="arendeList" parent-view-state="viewState"></arende-new>

        <!-- error message -->
        <wc-alert-message id="arende-list-load-error" ng-show="viewState.doneLoading && viewState.activeErrorMessageKey"
             alert-severity="danger">
          <span dynamic-label key="common.error.{{viewState.activeErrorMessageKey}}"></span>
        </wc-alert-message>

      </div>

      <div id="unhandledArendeCol" class="arende-list-section" ng-show="arendeList.length > 0">

        <!-- list of open arenden -->
        <div ng-repeat="arendeListItem in arendeList | filter:openArendenFilter | orderBy:'senasteHandelse':true"
             class="arende-item">
          <arende-panel panel-id="unhandled" arende-list-item="arendeListItem" arende-list="arendeList" parent-view-state="viewState"></arende-panel>
        </div>

        <!-- list of closed arenden -->
        <h2 class="col-head" ng-show="arendeListFiltered.length > 0">
          Tidigare fr√•gor och svar <span wc-help-chevron help-text-key="common.arende.help.handled"></span>
        </h2>
        <span wc-help-chevron-text help-text-key="common.arende.help.handled"></span>
        <div
            ng-repeat="arendeListItem in arendeListFiltered = (arendeList | filter:closedArendenFilter | orderBy:'senasteHandelse':true)"
            class="arende-item">
          <arende-panel panel-id="handled" arende-list-item="arendeListItem" arende-list="arendeList" parent-view-state="viewState"></arende-panel>
        </div>

      </div>

    </wc-spinner>
    <!--  end spinner -->

  </div>

</div>
