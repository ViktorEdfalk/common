<div class="row weak-hidden" ng-class="{show: viewState.showTemplate}">
  <div class="col-md-12 arende-column">

    <div wc-spinner label="common.fk.info.loading.existing.arenden" show-spinner="!viewState.doneLoading"
         show-content="viewState.doneLoading">

      <div class="webcert-bottom-padding-section" ng-show="intygProperties.isLoaded">

        <!-- Kompletteringar heading for utkast view -->
        <h2 ng-show="intygProperties.kompletteringOnly"
            class="col-head">Kompletteringar <span wc-help-mark field-help-text="arende.help.kompletteringar"></span>
        </h2>

        <!-- new arende form -->
        <div arende-new arende-list="arendeList" parent-view-state="viewState" intyg-properties="intygProperties"></div>

        <!-- error message -->
        <div id="arende-list-load-error" ng-show="viewState.doneLoading && viewState.activeErrorMessageKey"
             class="alert alert-danger">
          <span message key="common.fk.arende.error.{{viewState.activeErrorMessageKey}}"></span>
        </div>

      </div>

      <!-- list of open arenden -->
      <div id="unhandledArendeCol" class="webcert-col-section arende-list-section" ng-show="(arendeList | filter:openArendenFilter).length > 0">
        <div ng-repeat="arende in arendeList | filter:openArendenFilter | orderBy:'senasteHandelseDatum':true" class="arende-item">
          <div arende-panel panel-id="unhandled" arende="arende" arende-list="arendeList" intyg="intyg" intyg-properties="intygProperties"></div>
        </div>
      </div>

      <!-- list of handled arenden -->

    </div>

  </div>
  <!--  end spinner -->

</div>
