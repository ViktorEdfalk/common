<div class="wc-header-directive-container" ng-class="{'expanded' : menu.expanded}">

  <i class="header-icon glyphicon" ng-class="{'glyphicon-lock sekretess-markering': user.sekretessMarkerad, 'glyphicon-user': !user.sekretessMarkerad}"></i>

  <div class="vertical-container">
    <div class="single-text-row-container">
      <span class="greedy-flex-shrink truncate-when-needed user-name logged-in">{{user.namn}}</span>
      <span class="text-nowrap">&nbsp;- {{user.role}}</span>
    </div>
    <div class="status-row truncate-when-needed" ng-if="user.sekretessMarkerad">
      <a href="" id="wc-vardperson-sekretess-info-dialog--link" class="sekretess-markering" ng-click="showSekretessInfoMessage()">
        Sekretessmarkering
      </a>
    </div>
  </div>



  <button type="button" id="expand-usermenu-btn" class="btn btn-link" ng-click="toggleMenu($event)" ng-if="menu.enabled">
    <i class="header-chevron glyphicon" ng-class="{'glyphicon-menu-down' :!menu.expanded, 'glyphicon-menu-up': menu.expanded}"></i>
  </button>


</div>
<!-- must be outside flex container to be able to relatively position it -->
<div uib-dropdown is-open="menu.expanded">
  <ul uib-dropdown-menu>
    <li><a href="" id="editUserLink" ng-click="goToPrivatPortalen()">Min sida</a></li>
  </ul>
</div>
<!-- launches sekretess confirmation dialog if needed -->
<wc-vard-person-sekretess></wc-vard-person-sekretess>
