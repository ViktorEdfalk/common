<div id="srsResult{{id}}">
    <div ng-if="srsViewState.prediktionInfo">
        <wc-srs-info-box message-string="srsViewState.prediktionInfo"></wc-srs-info-box>
    </div>
    <div ng-if="srsViewState.prediktionError">
        <wc-srs-error-box message-string="srsViewState.prediktionError"></wc-srs-error-box>
    </div>
    <div id="predictionBox" ng-if="srsViewState.prediction !== 'error' && srsViewState.prediction.description" class="prediction-box alert alert-danger">
                <img ng-src="{{srsViewState.riskImage}}" alt="">
        {{srsViewState.prediction.description}}
        <div 
        style="float:right"
        class="glyphicon glyphicon-question-sign"
        uib-popover-template="externalRisk.templateUrl" popover-trigger="outsideClick"
        popover-placement="auto right" popover-append-to-body="false" popover-is-open="srsViewState.status.riskInfoOpen">
      </div>
    </div>
    <ul id="tab{{id}}" class="nav nav-tabs nav-justified">
        <li class="rounded active"><a data-toggle="tab" ng-click="setActiveTab('atgarder')" href="#atgarder{{id}}">Åtgärder</a></li>
        <li class="rounded"><a data-toggle="tab" ng-click="setActiveTab('statistics')" href="#statstics{{id}}">Statistik</a></li>
    </ul>
    <div class="tab-content">
        <div id="atgarder{{id}}" class="tab-pane fade in active">
            <br>            
            <div ng-if="srsViewState.atgarderInfo">
                <wc-srs-info-box message-string="srsViewState.atgarderInfo"></wc-srs-info-box>
            </div>
            <div ng-if="srsViewState.atgarderError">
                <wc-srs-error-box message-string="srsViewState.atgarderError"></wc-srs-error-box>
            </div>
            <div id="atgarderObs" ng-if="status.open">
                <div ng-repeat="(key,value) in srsViewState.atgarder.atgarderObs|limitTo:3">
                    <span ng-if="$first"><b>Tänk på att </b></span>{{value}}
                    <br>
                </div>
            </div>
            <br>
            <h3>Rekommenderade åtgärder</h3>
            <div id="atgarderRek" ng-if="status.open">
                <div ng-repeat="(key,value) in srsViewState.atgarder.atgarderRek">
                    <div clamp="3" ng-bind-html="'• ' + value"></div>
                    <br>
                </div>
                <div class="floatRight">
                    <button type="button" class="btn btn-info ng-binding" ng-click="redirectToAtgardExternalSite(); logAtgarderRekClicked;">Läs mer</button>
                </div>
            </div>

        </div>
        <div id="statstics{{id}}" class="tab-pane fade">
            <br>
            <div ng-if="srsViewState.statistikInfo">
                <wc-srs-info-box message-string="srsViewState.statistikInfo"></wc-srs-info-box>
            </div>
            <div ng-if="srsViewState.statistikError">
                <wc-srs-error-box message-string="srsViewState.statistikError"></wc-srs-error-box>
            </div>
            <img ng-show="srsViewState.statistik.statistikBild" ng-src="{{srsViewState.statistik.statistikBild}}" alt=""/>
            <div class="floatRight">
                <button type="button" class="btn btn-info ng-binding" ng-click="redirectToStatistikExternalSite(); logStatistikClicked();">Läs mer</button>
            </div>
        </div>

    </div>
</div>
