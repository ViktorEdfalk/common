<!--

    Copyright (C) 2013 Inera AB (http://www.inera.se)

    This file is part of Inera Certificate Modules (http://code.google.com/p/inera-certificate-modules).

    Inera Certificate Modules is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    Inera Certificate Modules is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->

<a id="top"></a>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 webcert-col webcert-col-single">

      <div class="header-fix-top">
        <div class="header-wrapper" ng-hide="widgetState.collapsedHeader" ng-animate="'menucollapse'">
          <div id="wcHeader" wc-header default-active="index"></div>
        </div>

        <div ng-hide="widgetState.activeErrorMessageKey">
          <div wc-spinner label="info.loadingdata" show-spinner="!widgetState.doneLoading"
               show-content="widgetState.doneLoading">

            <div class="header-fix-panel">
              <div class="header-fix-top-expand">
                <div class="header-fix-top-expand-wrapper">
                  <button class="btn btn-link" ng-click="toggleHeader()"><span
                      ng-if="widgetState.collapsedHeader">Visa</span><span
                      ng-if="!widgetState.collapsedHeader">Dölj</span> meny
                  </button>
                </div>
              </div>
              <a class="backlink-icon" href="/web/dashboard#/create" title="Tillbaka till Skriv intyg"></a>

              <h1 style="display: inline-block; margin-right: 20px;"><span message
                                                                           key="ts-diabetes.label.certtitle"></span>
              </h1>

              <div class="inline-block">
                <label class="control-label">{{cert.patient.fullstandigtNamn}} - {{cert.patient.personid}}</label>
              </div>
              <div class="form-group buttonbar">
                <button class="btn btn-info" ng-click="save()" ng-if="!isSigned">Spara</button>
                <button class="btn btn-default btn-secondary" ng-if="!isSigned" ng-click="discard()">Ta bort utkast
                </button>
                <button class="btn btn-default btn-secondary" ng-if="!widgetState.showComplete && !isComplete"
                        ng-click="toggleShowComplete()">Visa vad som behöver kompletteras
                </button>
                <button class="btn btn-default btn-secondary" ng-if="widgetState.showComplete && !isComplete"
                        ng-click="toggleShowComplete()">
                  Dölj vad som behöver kompletteras
                </button>
              </div>
              <div id="certificate-is-signed-message-text" ng-show="isSigned"><strong>Status:</strong> Intyget är
                signerat.
              </div>
              <div ng-show="certForm.$pristine && isComplete && !isSigned"><strong>Status:</strong> Intyget är sparat.
              </div>
              <div ng-show="certForm.$pristine && !isComplete"><strong>Status:</strong> Intyget är sparat, men inte
                komplett
              </div>
              <div ng-show="certForm.$dirty"><strong>Status:</strong> Intyget är <strong>inte</strong> sparat.</div>
            </div>
          </div>
        </div>
      </div>
      <!-- top end -->

      <!-- Total fail error messages -->
      <div class="cert-error-panel" ng-show="widgetState.doneLoading && widgetState.activeErrorMessageKey">
        <div class="alert alert-danger">
          <span message key="{{widgetState.activeErrorMessageKey}}"></span>
        </div>
      </div>

      <!-- TS-DIABETES -->
      <div class="edit-form" ng-class="{'collapsed' : widgetState.collapsedHeader}">

        <form name="certForm" novalidate autocomplete="off">
          <div ng-hide="widgetState.activeErrorMessageKey">

            <div wc-spinner label="info.loadingdata" show-spinner="!widgetState.doneLoading"
                 show-content="widgetState.doneLoading">

              <div class="alert alert-danger" ng-show="widgetState.showComplete && !isComplete"
                   style="margin-right: 20px">
                <h3>Följande fält behöver kompletteras:</h3>
                <ul>
                  <li ng-repeat="message in validationMessages"><span message key="{{message.message}}"></span></li>
                </ul>
              </div>

              <div id="certificate" class="row certificate">
                <div class="col-md-12 cert-body">

                  <div wc-field field-label="ts-diabetes.label.intygavser"
                       field-help-text="ts-diabetes.helptext.intyget-avser">
                    <div class="alert alert-danger" ng-if="validationMessagesGrouped.intygavser">
                      <ul>
                        <li ng-repeat="message in validationMessagesGrouped.intygavser"><span message
                                                                                              key="{{message.message}}"></span>
                        </li>
                      </ul>
                    </div>

                    <p>Information om Transportstyrelsens föreskrifter finns under länken Väg och sedan länken
                      Trafikmedicin
                      på <a href="http://www.transportstyrelsen.se" target="_blank">www.transportstyrelsen.se <img
                          src="/img/link_icon.png"></a>.</p>

                    <div class="form-group clearfix">
                      <label class="checkbox checkbox-columns col-md-2"
                             ng-repeat="typ in cert.intygAvser.korkortstyp track by $index"><input
                          id="typcheck{{$index}}" name="typcheck{{$index}}" type="checkbox" ng-model="typ.selected">
                        <span message key="ts-diabetes.label.korkort.{{typ.type}}"></span></label>
                    </div>
                  </div>

                  <div wc-field field-label="ts-diabetes.label.identitet"
                       field-help-text="ts-diabetes.helptext.identitet-styrkt-genom">
                    <div class="alert alert-danger" ng-if="validationMessagesGrouped.identitet">
                      <ul>
                        <li ng-repeat="message in validationMessagesGrouped.identitet"><span message
                                                                                             key="{{message.message}}"></span>
                        </li>
                      </ul>
                    </div>
                    <div class="form-group clearfix">
                      <label class="radio checkbox-columns col-md-6" ng-repeat="(k,v) in form.identity"><input
                          name="identity{{$index}}" type="radio" value="{{v}}" ng-model="cert.vardkontakt.idkontroll">
                        {{k}}</label>
                    </div>
                  </div>

                  <div class="alert alert-info">
                    <span message key="ts-diabetes.helptext.lakaren-ska-uppmarksamma" />
                  </div>

                  <!-- 1. Allmänt -->
                  <div wc-field field-label="ts-diabetes.label.allmant">
                    <div class="alert alert-danger" ng-if="validationMessagesGrouped.diabetes">
                      <ul>
                        <li ng-repeat="message in validationMessagesGrouped.diabetes"><span message
                                                                                            key="{{message.message}}"></span>
                        </li>
                      </ul>
                    </div>
                    <div class="form-group">
                      <label for="diabetesyear"> Vilket år ställdes diagnosen diabetes?</label>
                      <div class="controls">
                        <input id="diabetesyear" class="form-control" type="text" maxlength="4"
                               ng-model="cert.diabetes.observationsperiod" />
                      </div>
                    </div>
                    <div class="form-group">
                      Patienten har diabetes: {{cert.diabetes.diabetesTyp}}
                      <label class="radio"><input name="diabetestype1" type="radio" value="DIABETES_TYP_1"
                                                  ng-model="cert.diabetes.diabetestyp">Typ 1</label>
                      <label class="radio"><input name="diabetestype2" type="radio" value="DIABETES_TYP_2"
                                                  ng-model="cert.diabetes.diabetestyp">Typ 2</label>
                    </div>
                    <div class="form-group">
                      Behandling:
                      <label class="checkbox"><input name="diabetestreat1" type="checkbox"
                                                     ng-model="cert.diabetes.endastKost"> Kost</label>
                      <label class="checkbox"><input name="diabetestreat2" type="checkbox"
                                                     ng-model="cert.diabetes.tabletter"> Tabletter</label>
                      <label class="checkbox"><input name="diabetestreat3" type="checkbox"
                                                     ng-model="cert.diabetes.insulin">
                        Insulin</label>
                      <div class="form-group" data-ng-show="cert.diabetes.insulin">
                        <label for="insulinBehandlingsperiod"> Insulin sedan år</label>
                        <div class="controls">
                          <input id="insulinBehandlingsperiod" class="form-control" name="insulinBehandlingsperiod"
                                 type="text" ng-model="cert.diabetes.insulinBehandlingsperiod" wc-maxlength
                                 maxlength="53" />
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="annanBehandlingBeskrivning"> Annan behandling, vilken? (ej obligatorisk)</label>
                      <div class="controls">
                        <input id="annanBehandlingBeskrivning" class="form-control" name="annanBehandlingBeskrivning"
                               type="text" ng-model="cert.diabetes.annanBehandlingBeskrivning" wc-maxlength
                               maxlength="53" />
                      </div>
                    </div>
                  </div>

                  <!-- 2. Hypoglykemier (lågt blodsocker)-->
                  <div wc-field field-label="ts-diabetes.label.hypoglykemier">
                    <div class="alert alert-danger" ng-if="validationMessagesGrouped.hypoglykemier">
                      <ul>
                        <li ng-repeat="message in validationMessagesGrouped.hypoglykemier"><span message
                                                                                                 key="{{message.message}}"></span>
                        </li>
                      </ul>
                    </div>
                    <table class="table table-form">
                      <tr>
                        <th><span message key="common.yes"></span></th>
                        <th><span message key="common.no"></span></th>
                        <th class="maxwidth"></th>
                      </tr>
                      <tr>
                        <td><input id="hypoay" name="hypoay" type="radio" ng-value="true"
                                   ng-model="cert.hypoglykemier.kunskapOmAtgarder"></td>
                        <td><input id="hypoan" name="hypoan" type="radio" ng-value="false"
                                   ng-model="cert.hypoglykemier.kunskapOmAtgarder"></td>
                        <td>a) Har patienten kunskap om lämpliga åtgärder vid hypoglykemi?</td>
                      </tr>
                      <tr>
                        <td><input id="hypoby" name="hypoby" type="radio" ng-value="true"
                                   ng-model="cert.hypoglykemier.teckenNedsattHjarnfunktion"></td>
                        <td><input id="hypobn" name="hypobn" type="radio" ng-value="false"
                                   ng-model="cert.hypoglykemier.teckenNedsattHjarnfunktion"></td>
                        <td><p>b) Förekommer hypoglykemier med tecken på nedsatt hjärnfunktion (neuroglukopena symptom)
                          som
                          bedöms kunna innebära en trafiksäkerhetsrisk?</p>
                          <p>(Om nej behöver c-e inte besvaras)</p></td>
                      </tr>
                      <tr data-ng-show="cert.hypoglykemier.teckenNedsattHjarnfunktion">
                        <td><input id="hypocy" name="hypocy" type="radio" ng-value="true"
                                   ng-model="cert.hypoglykemier.saknarFormagaKannaVarningstecken"></td>
                        <td><input id="hypocn" name="hypocn" type="radio" ng-value="false"
                                   ng-model="cert.hypoglykemier.saknarFormagaKannaVarningstecken"></td>
                        <td>c) Saknar patienten förmåga att känna varningstecken på hypoglykemi ("unawareness")?</td>
                      </tr>
                      <tr data-ng-show="cert.hypoglykemier.teckenNedsattHjarnfunktion">
                        <td><input id="hypody" name="hypody" type="radio" ng-value="true"
                                   ng-model="cert.hypoglykemier.allvarligForekomst"></td>
                        <td><input id="hypodn" name="hypodn" type="radio" ng-value="false"
                                   ng-model="cert.hypoglykemier.allvarligForekomst"></td>
                        <td>
                          <p>d) Har patienten haft allvarlig hypoglykemi (som krävt hjälp av annan för att hävas) under
                            det
                            senaste året?</p>
                          <label for="allvarligForekomstBeskrivning"> Hur många sådana episoder?</label>
                          <div class="controls">
                            <input id="allvarligForekomstBeskrivning" class="form-control"
                                   name="allvarligForekomstBeskrivning" type="text"
                                   ng-model="cert.hypoglykemier.allvarligForekomstBeskrivning" wc-maxlength
                                   maxlength="46" />
                          </div>
                        </td>
                      </tr>
                      <tr data-ng-show="cert.hypoglykemier.teckenNedsattHjarnfunktion">
                        <td><input id="hypoey" name="hypoey" type="radio" ng-value="true"
                                   ng-model="cert.hypoglykemier.allvarligForekomstTrafiken"></td>
                        <td><input id="hypoen" name="hypoen" type="radio" ng-value="false"
                                   ng-model="cert.hypoglykemier.allvarligForekomstTrafiken"></td>
                        <td><p>e) Har patienten haft allvarlig hypoglykemi i trafiken under det senaste året?</p>
                          <label for="allvarligForekomstTrafikBeskrivning"> Hur många sådana episoder och när inträffade
                            de?</label>
                          <div class="controls">
                            <input id="allvarligForekomstTrafikBeskrivning" class="form-control"
                                   name="allvarligForekomstTrafikBeskrivning" type="text"
                                   ng-model="cert.hypoglykemier.allvarligForekomstTrafikBeskrivning" wc-maxlength
                                   maxlength="40" />
                          </div>
                        </td>
                      </tr>
                      <tr data-ng-show="form.korkorttyphigher">
                        <td></td>
                        <td></td>
                        <td><h5 class="inline-heading">För innehav av behörigheterna C1, C1E, C, CE, D1, D1E, D, DE och
                          taxiförarlegitimation ska även fråga f-g besvaras</h5></td>
                      </tr>
                      <tr data-ng-show="form.korkorttyphigher">
                        <td><input id="hypofy" name="hypofy" type="radio" ng-value="true"
                                   ng-model="cert.hypoglykemier.egenkontrollBlodsocker"></td>
                        <td><input id="hypofn" name="hypofn" type="radio" ng-value="false"
                                   ng-model="cert.hypoglykemier.egenkontrollBlodsocker"></td>
                        <td>f) Genomför patienten egenkontroller av blodsocker?</td>
                      </tr>
                      <tr data-ng-show="form.korkorttyphigher">
                        <td><input id="hypogy" name="hypogy" type="radio" ng-value="true"
                                   ng-model="cert.hypoglykemier.allvarligForekomstVakenTid"></td>
                        <td><input id="hypogn" name="hypogn" type="radio" ng-value="false"
                                   ng-model="cert.hypoglykemier.allvarligForekomstVakenTid"></td>
                        <td>
                          <p>g) Har patienten haft allvarlig hypoglykemi (som krävt hjälp av annan för att hävas) under
                            vaken tid det senaste året?</p>
                          <div class="form-group indent" data-ng-show="cert.hypoglykemier.allvarligForekomstVakenTid">
                            <label class="control-label">När?</label>
                            <div class="controls">
                              <input type="text" class="form-control"
                                     data-ng-model="cert.hypoglykemier.allvarligForekomstVakenTidObservationstid">
                              <div>(Fyll i ååååmmdd)</div>
                            </div>
                          </div>
                        </td>
                      </tr>
                    </table>
                  </div>

                  <!-- 3. Synintyg -->
                  <div wc-field field-label="ts-diabetes.label.synintyg" field-has-errors="testerror" ng-form
                       name="synForm">

                    <table class="table table-form">
                      <tr ng-if="validationMessagesGrouped.syn">
                        <td colspan="3">
                          <div class="alert alert-danger">
                            <ul>
                              <li ng-repeat="message in validationMessagesGrouped.syn"><span message
                                                                                             key="{{message.message}}"></span>
                              </li>
                            </ul>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                        <td><h5>Alternativ 1</h5></td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                        <td>Vid synnedsättningar av betydelse för innehavet krävs ögonläkarintyg. Detta gäller vid
                          proliferativ retinopati, genomgången laserbehandling av retinopati, signifikant makulaödem
                          eller
                          vid annan ögonsjukdom samt om ögonbottenfoto saknas.
                        </td>
                      </tr>
                      <tr>
                        <th><span message key="common.yes"></span></th>
                        <th><span message key="common.no"></span></th>
                        <th class="maxwidth"></th>
                      </tr>
                      <tr>
                        <td><input id="synay" name="synay" type="radio" ng-value="true"
                                   ng-model="cert.syn.separatOgonlakarintyg"></td>
                        <td><input id="synan" name="synan" type="radio" ng-value="false"
                                   ng-model="cert.syn.separatOgonlakarintyg"></td>
                        <td>a. Ögonläkarintyg kommer att skickas in separat</td>
                      </tr>
                      <tr data-ng-hide="cert.syn.separatOgonlakarintyg">
                        <td></td>
                        <td></td>
                        <td><h5 class="inline-heading">Alternativ 2: (frågorna b-d besvaras)</h5></td>
                      </tr>
                      <tr data-ng-hide="cert.syn.separatOgonlakarintyg">
                        <td></td>
                        <td></td>
                        <td>Om ögonläkarintyg inte krävs kan behandlande specialistkompetent läkare med god kännedom om
                          patientens sjukdom här avge intyg om synfunktionen.
                        </td>
                      </tr>
                      <tr data-ng-hide="cert.syn.separatOgonlakarintyg">
                        <td><input id="synby" name="synby" type="radio" ng-value="true"
                                   ng-model="cert.syn.synfaltsprovningUtanAnmarkning"></td>
                        <td><input id="synbn" name="synbn" type="radio" ng-value="false"
                                   ng-model="cert.syn.synfaltsprovningUtanAnmarkning"></td>
                        <td>
                          <p>b. Är synfältsprövning enligt Donders konfrontationsmetod utan anmärkning?</p>
                        </td>
                      </tr>
                      <tr data-ng-hide="cert.syn.separatOgonlakarintyg">
                        <td></td>
                        <td></td>
                        <td>
                          <p>c. Synskärpa (alla bokstäver ska kunna läsas på den rad som anger synskärpan. Är synskärpan
                            sämre än 0,1 ska den anges som 0,0).</p>
                          <p>
                            Uppgifterna om synskärpa med och utan korrektion kan grundas på aktuellt intyg av bl.a.
                            legitimerad optiker eller den som är anställd hos optiker. Alternativt kan kopia av sådant
                            intyg
                            bifogas. Uppgifter från ögonbottenfoto kan också användas. </p>

                          <table class="table table-form">
                            <tr>
                              <th></th>
                              <th>Utan korrektion <span wc-enable-tooltip
                                                        field-help-text="ts-diabetes.helptext.synfunktioner.utan-korrektion" />
                              </th>
                              <th>Med korrektion <span wc-enable-tooltip
                                                       field-help-text="ts-diabetes.helptext.synfunktioner.med-korrektion" />
                              </th>
                            </tr>
                            <tr>
                              <td>Höger öga</td>
                              <td><input type="text" class="form-control small-decimal" eye-decimal
                                         ng-model="cert.syn.hoger.utanKorrektion"></td>
                              <td><input type="text" class="form-control small-decimal" eye-decimal
                                         ng-model="cert.syn.hoger.medKorrektion"></td>
                            </tr>
                            <tr>
                              <td>Vänster öga</td>
                              <td><input type="text" class="form-control small-decimal" eye-decimal
                                         ng-model="cert.syn.vanster.utanKorrektion"></td>
                              <td><input type="text" class="form-control small-decimal" eye-decimal
                                         ng-model="cert.syn.vanster.medKorrektion"></td>
                            </tr>
                            <tr>
                              <td>Binokulärt</td>
                              <td><input type="text" class="form-control small-decimal" eye-decimal
                                         ng-model="cert.syn.binokulart.utanKorrektion"></td>
                              <td><input type="text" class="form-control small-decimal" eye-decimal
                                         ng-model="cert.syn.binokulart.medKorrektion"></td>
                            </tr>
                          </table>
                      </tr>
                      <tr data-ng-hide="cert.syn.separatOgonlakarintyg">
                        <td><input id="syndy" name="syndy" type="radio" ng-value="true" ng-model="cert.syn.diplopi">
                        </td>
                        <td><input id="syndn" name="syndn" type="radio" ng-value="false" ng-model="cert.syn.diplopi">
                        </td>
                        <td>d) Förekommer dubbelseende?</td>
                      </tr>
                    </table>
                  </div>

                  <!-- 4. Bedömning -->
                  <div wc-field field-label="ts-diabetes.label.bedomning">
                    <div class="alert alert-danger" ng-if="validationMessagesGrouped.bedomning">
                      <ul>
                        <li ng-repeat="message in validationMessagesGrouped.bedomning"><span message
                                                                                             key="{{message.message}}"></span>
                        </li>
                      </ul>
                    </div>

                    <table class="table table-form">
                      <tr>
                        <td></td>
                        <td></td>
                        <td>
                          <p>Patienten uppfyller kraven enligt 6 kap. i Transportstyrelsens föreskrifter och allmänna
                            råd om
                            medicinska krav för innehav av körkort m.m. (TSFS 2010:125, senast ändrade genom TSFS
                            2013:2).
                            Föreskrivna krav på läkarens specialistkompetens vid diabetessjukdom anges i 17 kap.
                            Se <a href="http://www.transportstyrelsen.se" target="_blank">www.transportstyrelsen.se <img
                                src="/img/link_icon.png"></a>. Därefter "Väg" och "Trafikmedicin".</p>

                          <div class="form-group">
                            <label class="radio"><input name="behorighetnagon" type="radio" ng-value="true"
                                                        ng-model="form.behorighet"> Någon av följande
                              behörigheter</label>
                            <div class="form-group clearfix indent" data-ng-show="form.behorighet">
                              <label class="checkbox checkbox-columns col-md-2"
                                     ng-repeat="typ in cert.bedomning.korkortstyp track by $index"><input
                                  id="korkortstyp{{$index}}" name="korkortstyp{{$index}}" type="checkbox"
                                  ng-model="typ.selected"> <span message
                                                                 key="ts-diabetes.label.korkort.{{typ.type}}"></span></label>
                            </div>
                            <label class="radio"><input name="behorighetinte" type="radio" ng-value="false"
                                                        ng-model="form.behorighet"> Kan inte ta ställning</label>
                          </div>
                        </td>
                      </tr>
                      <tr data-ng-show="form.korkorttyphigher">
                        <th><span message key="common.yes"></span></th>
                        <th><span message key="common.no"></span></th>
                        <th class="maxwidth"></th>
                      </tr>
                      <tr data-ng-show="form.korkorttyphigher">
                        <td><input id="bedomningy" name="bedomningy" type="radio" ng-value="true"
                                   ng-model="cert.bedomning.lamplighetInnehaBehorighet"></td>
                        <td><input id="bedomningn" name="bedomningn" type="radio" ng-value="false"
                                   ng-model="cert.bedomning.lamplighetInnehaBehorighet"></td>
                        <td>Om patienten söker behörighet C1, C1E, C, CE, D1, D1E, D, DE eller Taxi, är han eller hon
                          lämplig att inneha sådan behörighet med hänsyn till de körningar och arbetsformer som är
                          aktuella
                          vid sådant innehav? (Se 6 kap. 16 §)
                        </td>
                      </tr>
                    </table>
                  </div>

                  <!-- Övriga upplysningar -->
                  <div wc-field field-label="ts-diabetes.label.empty">
                    <h5>Övriga upplysningar och kommentarer</h5>
                    <textarea class="form-control" ng-model="cert.kommentar" wc-maxlength maxlength="189"></textarea>
                  </div>

                  <!-- Specialistkompetens -->
                  <div wc-field field-label="ts-diabetes.label.empty">
                    <h5>Patienten bör före ärendets avgörande undersökas av läkare med specialistkompetens i:</h5>
                    <textarea class="form-control" name="specialist" rows='5'
                              ng-model="cert.bedomning.lakareSpecialKompetens" wc-maxlength maxlength="71"></textarea>
                  </div>

                  <div class="body-row clearfix">
                    <h3 class="title">
                      <span message key="ts-diabetes.label.unit"></span>
                    </h3>

                    <div class="text">
                      <div class="alert alert-danger" ng-if="validationMessagesGrouped.vardenhet">
                        <ul>
                          <li ng-repeat="message in validationMessagesGrouped.vardenhet"><span message
                                                                                               key="{{message.message}}"></span>
                          </li>
                        </ul>
                      </div>
                      <label class="control-label">{{cert.skapadAv.vardenhet.enhetsnamn}}
                        ({{cert.skapadAv.vardenhet.enhetsid}}),
                        {{cert.skapadAv.vardenhet.vardgivare.vardgivarnamn}}</label>

                      <div class="form-horizontal">
                        <div class="form-group">
                          <label class="col-xs-3 control-label">Postadress</label>
                          <div class="col-xs-9">
                            <input type="text" class="form-control" id="clinicInfo.postalAddress"
                                   name="clinicInfo.postalAddress" ng-model="cert.skapadAv.vardenhet.postadress">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-xs-3 control-label">Postnummer</label>
                          <div class="col-xs-9">
                            <input type="text" class="form-control" id="clinicInfo.postalCode"
                                   name="clinicInfo.postalCode" ng-model="cert.skapadAv.vardenhet.postnummer">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-xs-3 control-label">Postort</label>
                          <div class="col-xs-9">
                            <input type="text" class="form-control" id="clinicInfo.postalCity"
                                   name="clinicInfo.postalCity" ng-model="cert.skapadAv.vardenhet.postort">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-xs-3 control-label">Telefonnummer</label>
                          <div class="col-xs-9">
                            <input type="text" class="form-control" id="clinicInfo.phone" name="clinicInfo.phone"
                                   ng-model="cert.skapadAv.vardenhet.telefonnummer">
                          </div>
                        </div>
                        <div class="form-group" ng-if="false">
                          <label class="col-xs-3 control-label">Epost</label>
                          <div class="col-xs-9">
                            <input type="text" class="form-control" id="clinicInfo.email" name="clinicInfo.email"
                                   ng-model="mats-diabetes.ekhammar@callistaenterprise.se">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
                <!-- cert body -->

              </div>
              <!-- certificate -->

              <div ng-if="!isSigned">
                <h3>Signera</h3>

                <div id="sign-requires-doctor-message-text" ng-if="!user.userContext.lakare" class="alert alert-info">
                  Endast läkare får skriva under intyget. Du kan skicka e-post med en länk till intyget till den läkare
                  som
                  ska signera.
                </div>

                <button id="signera-utkast-button" class="btn btn-success" ng-disabled="!isComplete" ng-click="sign()"
                        ng-show="user.userContext.lakare">Signera intyget
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>

    </div>
    <!-- span12 webcert-col-single -->
  </div>
  <!-- row -->
</div> <!-- container -->
